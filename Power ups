class PowerUp:
    def __init__(self):
        self.kind = random.choice(["speed", "shield", "score"])
        self.level = random.randint(1, 3)  # Level of power
        self.rect = pygame.Rect(
            random.randint(0, WIDTH-20), random.randint(0, HEIGHT-20), 20, 20
        )
        self.active = True

    def apply(self, player_state):
        """Apply effect based on type and level"""
        if self.kind == "speed":
            # Speed boost multiplier depends on level
            player_state["speed"] *= 1 + 0.3 * self.level
            player_state["speed_timer"] = pygame.time.get_ticks() + 5000 * self.level  # lasts longer with level
        elif self.kind == "shield":
            player_state["shield"] = True
            player_state["shield_strength"] = self.level  # Can absorb level hits
        elif self.kind == "score":
            player_state["score"] += 10 * self.level
